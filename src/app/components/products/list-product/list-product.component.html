<section id="add-main-page">
    <div class="card">
        <div class="row">
            <div class="col-md-12">
                <div class="card-body">
                 <div class="row">
                  <div class="form-group col-2">
                    <label for=""> اختيار قسم رئيسي  </label>
                      <select class="form-control p-1"  (change)="changeCategory($event)">
                        <option [value]="category.id" *ngFor="let category of categories ; let index=index ">
                              {{category.name}}  
                          </option>
                      </select>
                   </div>

                   <div class="form-group col-2">
                    <label for=""> اختيار قسم فرعي </label>
                      <select class="form-control p-1"  (change)="changeSubcategory($event)">
                        <option [value]="subcategory.id" *ngFor="let subcategory of subcategories">{{subcategory.name}} </option>
                        <option *ngIf="subcategories.length==0" disabled value="0" style="background-color: #ddd"> No Subcategories To This Category </option>
                      </select>
                   </div>

                   <div class="form-group col-2">
                    <label for=""> اختيار البراند  </label>
                      <select class="form-control p-1"  (change)="changeBrands($event)">
                        <option [value]="brand.id" *ngFor="let brand of brands">{{brand.name}} </option>
                     
                      </select>
                   </div>

                   <div class="form-group col-2">
                    <label for=""> اختيار الموديل </label>
                      <select class="form-control p-1"  (change)="changeModels($event)">
                        <option [value]="model.id" *ngFor="let model of models">{{model.name}} </option>
                        <option *ngIf="models.length==0" disabled value="0" style="background-color: #ddd"> No Models To This Brand </option>
                      </select>
                   </div>


                   <div class="form-group col-2">
                 
                    <button class="btn btn-primary py-2 my-4" (click)="filter()"> بحث </button>
                   </div>
                 </div>
              
                 <!-- <div  class="text-center" *ngIf="products.length==0">
                      <p> There Is No Products Yet </p>
                     </div> -->
                    <table class="table" *ngIf="products.length!=0" >
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">صورة المنتج</th>
                            <th scope="col">اسم المنتج</th>
                            <th scope="col"> سعر المنتج</th>
                            <th scope="col"> رقم القطعة</th>
                            <th scope="col">إعدادات</th>
                          </tr>
                        </thead>
                        <tbody>
                           <tr *ngFor="let product of products ;let i=index">
                            <th scope="row">{{i+1}}</th>
                           
                            <td><img [src]="product.imagePath" class="image-fluid" onerror="src='assets/images/no-product.png'" height="50px" width="50px"  style="border-radius:70%"> </td>
                            <td>{{product.name}} </td>
                            <td>{{product.price}} </td>
                            <td>{{product.piece_number}} </td>
                            
                          <td>
                              <!-- <i class="fas fa-eye text-success" style="cursor: pointer;" (click)="viewSub(subcategory)"></i> | -->
                              <i style="cursor: pointer;" class="fas fa-edit text-primary" (click)="onEditModel(product)"></i> 
                              |
                              <i style="cursor: pointer;" class="fas fa-trash text-danger" (click)="onDeleteModel(product.id)"></i> 
                            </td> 


                          </tr>  
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </div>
</section>